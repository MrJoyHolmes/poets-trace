<template>
	<div>
		<div id="selectWrapper">
			<Select v-model="poets" multiple filterable :max-tag-count="2" @on-change="poetChange">
				<Option v-for="item in poetList" :value="item.value" :key="item.value">{{ item.label }}</Option>
			</Select>
		</div>
		<div id="modeWrapper">
			<RadioGroup v-model="mode" type="button" @on-change="modeChange">
				<Radio label="轨迹"></Radio>
				<Radio label="作品"></Radio>
			</RadioGroup>
		</div>
	</div>
</template>
<script>
  import DataTable from '../components/DataTable'
  import MapContent from '../components/MapContent'

  export default {
    components: {
      'data-table':DataTable,
      'map-content':MapContent
    },
    data () {
      return {
        poetList: [
          {"value":"包拯","label":"包拯"},
          {"value":"蔡伸","label":"蔡伸"},
          {"value":"岑参","label":"岑参"},
          {"value":"曾公亮","label":"曾公亮"},
          {"value":"曾几","label":"曾几"},
          {"value":"曾协","label":"曾协"},
          {"value":"曾慥","label":"曾慥"},
          {"value":"曾肇","label":"曾肇"},
          {"value":"晁补之","label":"晁补之"},
          {"value":"晁冲之","label":"晁冲之"},
          {"value":"晁端礼","label":"晁端礼"},
          {"value":"晁迥","label":"晁迥"},
          {"value":"晁说之","label":"晁说之"},
          {"value":"陈傅良","label":"陈傅良"},
          {"value":"陈瓘","label":"陈瓘"},
          {"value":"陈康伯","label":"陈康伯"},
          {"value":"陈亮","label":"陈亮"},
          {"value":"陈人杰","label":"陈人杰"},
          {"value":"陈师道","label":"陈师道"},
          {"value":"陈与义","label":"陈与义"},
          {"value":"陈子昂","label":"陈子昂"},
          {"value":"程颢","label":"程颢"},
          {"value":"程俱","label":"程俱"},
          {"value":"程颐","label":"程颐"},
          {"value":"崔凃","label":"崔凃"},
          {"value":"戴复古","label":"戴复古"},
          {"value":"邓肃","label":"邓肃"},
          {"value":"丁谓","label":"丁谓"},
          {"value":"独孤及","label":"独孤及"},
          {"value":"杜范","label":"杜范"},
          {"value":"杜甫","label":"杜甫"},
          {"value":"杜牧","label":"杜牧"},
          {"value":"杜荀鹤","label":"杜荀鹤"},
          {"value":"度正","label":"度正"},
          {"value":"段成式","label":"段成式"},
          {"value":"范成大","label":"范成大"},
          {"value":"范寥","label":"范寥"},
          {"value":"方干","label":"方干"},
          {"value":"方岳","label":"方岳"},
          {"value":"冯道","label":"冯道"},
          {"value":"冯京","label":"冯京"},
          {"value":"冯延巳","label":"冯延巳"},
          {"value":"富弼","label":"富弼"},
          {"value":"高适","label":"高适"},
          {"value":"葛立方","label":"葛立方"},
          {"value":"葛胜仲","label":"葛胜仲"},
          {"value":"顾非熊","label":"顾非熊"},
          {"value":"管鉴","label":"管鉴"},
          {"value":"贯休","label":"贯休"},
          {"value":"韩琦","label":"韩琦"},
          {"value":"韩世忠","label":"韩世忠"},
          {"value":"韩偓","label":"韩偓"},
          {"value":"韩熙载","label":"韩熙载"},
          {"value":"韩愈","label":"韩愈"},
          {"value":"何大圭","label":"何大圭"},
          {"value":"和凝","label":"和凝"},
          {"value":"贺铸","label":"贺铸"},
          {"value":"洪皓","label":"洪皓"},
          {"value":"洪迈","label":"洪迈"},
          {"value":"洪适","label":"洪适"},
          {"value":"洪遵","label":"洪遵"},
          {"value":"胡铨","label":"胡铨"},
          {"value":"胡舜陟","label":"胡舜陟"},
          {"value":"胡宪","label":"胡宪"},
          {"value":"胡瑗","label":"胡瑗"},
          {"value":"胡则","label":"胡则"},
          {"value":"皇甫湜","label":"皇甫湜"},
          {"value":"黄次山","label":"黄次山"},
          {"value":"黄大临","label":"黄大临"},
          {"value":"黄榦","label":"黄榦"},
          {"value":"黄公度","label":"黄公度"},
          {"value":"黄滔","label":"黄滔"},
          {"value":"黄庭坚","label":"黄庭坚"},
          {"value":"贾岛","label":"贾岛"},
          {"value":"江端友","label":"江端友"},
          {"value":"江万里","label":"江万里"},
          {"value":"姜夔","label":"姜夔"},
          {"value":"蒋捷","label":"蒋捷"},
          {"value":"孔平仲","label":"孔平仲"},
          {"value":"孔文仲","label":"孔文仲"},
          {"value":"孔武仲","label":"孔武仲"},
          {"value":"寇准","label":"寇准"},
          {"value":"李翱","label":"李翱"},
          {"value":"李白","label":"李白"},
          {"value":"李壁","label":"李壁"},
          {"value":"李曾伯","label":"李曾伯"},
          {"value":"李处全","label":"李处全"},
          {"value":"李德裕","label":"李德裕"},
          {"value":"李侗","label":"李侗"},
          {"value":"李昉","label":"李昉"},
          {"value":"李纲","label":"李纲"},
          {"value":"李光","label":"李光"},
          {"value":"李贺","label":"李贺"},
          {"value":"李璟","label":"李璟"},
          {"value":"李莱老","label":"李莱老"},
          {"value":"李昴英","label":"李昴英"},
          {"value":"李弥逊","label":"李弥逊"},
          {"value":"李彭老","label":"李彭老"},
          {"value":"李频","label":"李频"},
          {"value":"李清照","label":"李清照"},
          {"value":"李如圭","label":"李如圭"},
          {"value":"李商隐","label":"李商隐"},
          {"value":"李绅","label":"李绅"},
          {"value":"李焘","label":"李焘"},
          {"value":"李煜","label":"李煜"},
          {"value":"李渊","label":"李渊"},
          {"value":"李正民","label":"李正民"},
          {"value":"李埴","label":"李埴"},
          {"value":"林逋","label":"林逋"},
          {"value":"林景熙","label":"林景熙"},
          {"value":"令狐楚","label":"令狐楚"},
          {"value":"令狐绹","label":"令狐绹"},
          {"value":"刘才邵","label":"刘才邵"},
          {"value":"刘敞","label":"刘敞"},
          {"value":"刘辰翁","label":"刘辰翁"},
          {"value":"刘得仁","label":"刘得仁"},
          {"value":"刘过","label":"刘过"},
          {"value":"刘涣","label":"刘涣"},
          {"value":"刘将孙","label":"刘将孙"},
          {"value":"刘克庄","label":"刘克庄"},
          {"value":"刘勉之","label":"刘勉之"},
          {"value":"刘恕","label":"刘恕"},
          {"value":"刘焘","label":"刘焘"},
          {"value":"刘一止","label":"刘一止"},
          {"value":"刘禹锡","label":"刘禹锡"},
          {"value":"刘长卿","label":"刘长卿"},
          {"value":"刘子翚","label":"刘子翚"},
          {"value":"柳开","label":"柳开"},
          {"value":"柳永","label":"柳永"},
          {"value":"柳宗元","label":"柳宗元"},
          {"value":"卢照邻","label":"卢照邻"},
          {"value":"卢祖皋","label":"卢祖皋"},
          {"value":"陆龟蒙","label":"陆龟蒙"},
          {"value":"陆九渊","label":"陆九渊"},
          {"value":"陆秀夫","label":"陆秀夫"},
          {"value":"罗从彦","label":"罗从彦"},
          {"value":"罗隐","label":"罗隐"},
          {"value":"骆宾王","label":"骆宾王"},
          {"value":"吕胜己","label":"吕胜己"},
          {"value":"吕陶","label":"吕陶"},
          {"value":"吕温","label":"吕温"},
          {"value":"吕向","label":"吕向"},
          {"value":"吕颐浩","label":"吕颐浩"},
          {"value":"吕祖谦","label":"吕祖谦"},
          {"value":"马戴","label":"马戴"},
          {"value":"马端临","label":"马端临"},
          {"value":"马廷鸾","label":"马廷鸾"},
          {"value":"梅尧臣","label":"梅尧臣"},
          {"value":"孟浩然","label":"孟浩然"},
          {"value":"孟郊","label":"孟郊"},
          {"value":"米芾","label":"米芾"},
          {"value":"倪偁","label":"倪偁"},
          {"value":"牛僧孺","label":"牛僧孺"},
          {"value":"欧阳炯","label":"欧阳炯"},
          {"value":"欧阳修","label":"欧阳修"},
          {"value":"皮日休","label":"皮日休"},
          {"value":"綦崇礼","label":"綦崇礼"},
          {"value":"钱起","label":"钱起"},
          {"value":"秦观","label":"秦观"},
          {"value":"秦桧","label":"秦桧"},
          {"value":"丘崈","label":"丘崈"},
          {"value":"权德舆","label":"权德舆"},
          {"value":"僧惠洪","label":"僧惠洪"},
          {"value":"沈端节","label":"沈端节"},
          {"value":"沈焕","label":"沈焕"},
          {"value":"沈括","label":"沈括"},
          {"value":"沈佺期","label":"沈佺期"},
          {"value":"沈瀛","label":"沈瀛"},
          {"value":"沈与求","label":"沈与求"},
          {"value":"施宿","label":"施宿"},
          {"value":"施元之","label":"施元之"},
          {"value":"石介","label":"石介"},
          {"value":"石孝友","label":"石孝友"},
          {"value":"史达祖","label":"史达祖"},
          {"value":"释行肇","label":"释行肇"},
          {"value":"释怀古","label":"释怀古"},
          {"value":"释惠崇","label":"释惠崇"},
          {"value":"释简长","label":"释简长"},
          {"value":"释惟凤","label":"释惟凤"},
          {"value":"释文兆","label":"释文兆"},
          {"value":"释希昼","label":"释希昼"},
          {"value":"释宇昭","label":"释宇昭"},
          {"value":"释仲殊","label":"释仲殊"},
          {"value":"释宗杲","label":"释宗杲"},
          {"value":"舒岳祥","label":"舒岳祥"},
          {"value":"司空图","label":"司空图"},
          {"value":"宋白","label":"宋白"},
          {"value":"宋齐邱","label":"宋齐邱"},
          {"value":"宋祁","label":"宋祁"},
          {"value":"宋庠","label":"宋庠"},
          {"value":"宋之问","label":"宋之问"},
          {"value":"苏过","label":"苏过"},
          {"value":"苏轼","label":"苏轼"},
          {"value":"苏舜钦","label":"苏舜钦"},
          {"value":"苏颂","label":"苏颂"},
          {"value":"苏颋","label":"苏颋"},
          {"value":"苏庠","label":"苏庠"},
          {"value":"苏洵","label":"苏洵"},
          {"value":"苏辙","label":"苏辙"},
          {"value":"孙觌","label":"孙觌"},
          {"value":"孙觉","label":"孙觉"},
          {"value":"唐庚","label":"唐庚"},
          {"value":"唐彦谦","label":"唐彦谦"},
          {"value":"唐仲友","label":"唐仲友"},
          {"value":"田锡","label":"田锡"},
          {"value":"汪元量","label":"汪元量"},
          {"value":"汪藻","label":"汪藻"},
          {"value":"王勃","label":"王勃"},
          {"value":"王昌龄","label":"王昌龄"},
          {"value":"王观","label":"王观"},
          {"value":"王绩","label":"王绩"},
          {"value":"王建","label":"王建"},
          {"value":"王令","label":"王令"},
          {"value":"王迈","label":"王迈"},
          {"value":"王明清","label":"王明清"},
          {"value":"王阮","label":"王阮"},
          {"value":"王韶","label":"王韶"},
          {"value":"王十朋","label":"王十朋"},
          {"value":"王遂","label":"王遂"},
          {"value":"王庭珪","label":"王庭珪"},
          {"value":"王维","label":"王维"},
          {"value":"王炎","label":"王炎"},
          {"value":"王沂孙","label":"王沂孙"},
          {"value":"王以宁","label":"王以宁"},
          {"value":"王应麟","label":"王应麟"},
          {"value":"王禹偁","label":"王禹偁"},
          {"value":"王之涣","label":"王之涣"},
          {"value":"王之望","label":"王之望"},
          {"value":"王质","label":"王质"},
          {"value":"王铚","label":"王铚"},
          {"value":"王仲甫","label":"王仲甫"},
          {"value":"王灼","label":"王灼"},
          {"value":"韦应物","label":"韦应物"},
          {"value":"韦庄","label":"韦庄"},
          {"value":"魏了翁","label":"魏了翁"},
          {"value":"魏野","label":"魏野"},
          {"value":"魏征","label":"魏征"},
          {"value":"文天祥","label":"文天祥"},
          {"value":"文同","label":"文同"},
          {"value":"文彦博","label":"文彦博"},
          {"value":"无可","label":"无可"},
          {"value":"吴芾","label":"吴芾"},
          {"value":"吴潜","label":"吴潜"},
          {"value":"吴融","label":"吴融"},
          {"value":"吴文英","label":"吴文英"},
          {"value":"吴中复","label":"吴中复"},
          {"value":"武元衡","label":"武元衡"},
          {"value":"夏竦","label":"夏竦"},
          {"value":"项斯","label":"项斯"},
          {"value":"萧德藻","label":"萧德藻"},
          {"value":"萧颍士","label":"萧颍士"},
          {"value":"谢翱","label":"谢翱"},
          {"value":"谢枋得","label":"谢枋得"},
          {"value":"谢薖","label":"谢薖"},
          {"value":"谢逸","label":"谢逸"},
          {"value":"辛弃疾","label":"辛弃疾"},
          {"value":"徐俯","label":"徐俯"},
          {"value":"徐积","label":"徐积"},
          {"value":"徐鹿卿","label":"徐鹿卿"},
          {"value":"徐梦莘","label":"徐梦莘"},
          {"value":"徐铉","label":"徐铉"},
          {"value":"许浑","label":"许浑"},
          {"value":"薛季宣","label":"薛季宣"},
          {"value":"薛能","label":"薛能"},
          {"value":"严羽","label":"严羽"},
          {"value":"扬无咎","label":"扬无咎"},
          {"value":"阳枋","label":"阳枋"},
          {"value":"杨绘","label":"杨绘"},
          {"value":"杨炯","label":"杨炯"},
          {"value":"杨凝式","label":"杨凝式"},
          {"value":"杨时","label":"杨时"},
          {"value":"杨万里","label":"杨万里"},
          {"value":"杨亿","label":"杨亿"},
          {"value":"杨缵","label":"杨缵"},
          {"value":"姚合","label":"姚合"},
          {"value":"姚勉","label":"姚勉"},
          {"value":"叶适","label":"叶适"},
          {"value":"尹焞","label":"尹焞"},
          {"value":"雍陶","label":"雍陶"},
          {"value":"尤袤","label":"尤袤"},
          {"value":"游酢","label":"游酢"},
          {"value":"余靖","label":"余靖"},
          {"value":"鱼玄机","label":"鱼玄机"},
          {"value":"宇文虚中","label":"宇文虚中"},
          {"value":"喻凫","label":"喻凫"},
          {"value":"元结","label":"元结"},
          {"value":"袁枢","label":"袁枢"},
          {"value":"袁说友","label":"袁说友"},
          {"value":"岳珂","label":"岳珂"},
          {"value":"张昪","label":"张昪"},
          {"value":"张彻","label":"张彻"},
          {"value":"张方平","label":"张方平"},
          {"value":"张籍","label":"张籍"},
          {"value":"张九成","label":"张九成"},
          {"value":"张栻","label":"张栻"},
          {"value":"张守","label":"张守"},
          {"value":"张说","label":"张说"},
          {"value":"张先","label":"张先"},
          {"value":"张孝祥","label":"张孝祥"},
          {"value":"张炎","label":"张炎"},
          {"value":"张元干","label":"张元干"},
          {"value":"张载","label":"张载"},
          {"value":"张昭","label":"张昭"},
          {"value":"章楶","label":"章楶"},
          {"value":"赵抃","label":"赵抃"},
          {"value":"赵鼎","label":"赵鼎"},
          {"value":"赵闻礼","label":"赵闻礼"},
          {"value":"赵以夫","label":"赵以夫"},
          {"value":"郑伯熊","label":"郑伯熊"},
          {"value":"郑巢","label":"郑巢"},
          {"value":"郑刚中","label":"郑刚中"},
          {"value":"郑谷","label":"郑谷"},
          {"value":"郑獬","label":"郑獬"},
          {"value":"周邦彦","label":"周邦彦"},
          {"value":"周必大","label":"周必大"},
          {"value":"周敦颐","label":"周敦颐"},
          {"value":"周贺","label":"周贺"},
          {"value":"周葵","label":"周葵"},
          {"value":"周密","label":"周密"},
          {"value":"朱松","label":"朱松"},
          {"value":"朱熹","label":"朱熹"},
          {"value":"宗泽","label":"宗泽"},
          {"value":"邹浩","label":"邹浩"},

        ],
        poets: [],
				mode: '轨迹'
      }
    },
		methods: {
      //文人多选框数组变化
			poetChange(){
				let _this=this
				// let serverUrl = '/api/'  //本地调试时
				//let serverUrl = 'http://47.92.251.238:3000/'  //打包部署上线时
				let serverUrl = 'http://localhost:3000/'  //编译环境
				if (_this.$store.state.mode == '轨迹'){
          this.$axios.post(serverUrl+"poetTraces",{
            poets: _this.poets,
          })
            .then(response =>{
              //console.log(response.data)
              _this.$store.commit('setPTraces',response.data)
              _this.$emit('update')
            })
				}else {
          this.$axios.post(serverUrl+"poetPoems",{
            poets: _this.poets,
          })
            .then(response =>{
              //console.log(response.data)
              _this.$store.commit('setPPoems',response.data)
              _this.$emit('update')
            })
				}

			},
			modeChange(){
			  //改变vuex里mode值，指示查询类型，提交查询之前，前进进行判断查询类型
				this.$store.commit('changeMode',this.mode)
			}
		}
  }
</script>

<style scoped>
	#selectWrapper,#modeWrapper{
		float: right;
		margin-left: 20px;
	}
</style>